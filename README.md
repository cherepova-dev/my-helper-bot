# Телеграм-бот «Личный помощник»

Бот при старте отправляет приветствие, принимает текстовые и голосовые сообщения и отвечает: «Сообщение принято. Текст» с повтором присланного текста (для голоса — распознанный текст).

## Установка

1. Python 3.10+.

2. Создайте бота в [@BotFather](https://t.me/BotFather), получите токен.

3. Установите зависимости:

```bash
pip install -r requirements.txt
```

4. Для распознавания голоса нужен **ffmpeg** (конвертация ogg → wav):
   - Windows: скачайте с [ffmpeg.org](https://ffmpeg.org/download.html) и добавьте в PATH.
   - Или: `winget install ffmpeg`

## Запуск

Задайте токен одним из способов:

- В коде: в `bot.py` замените `YOUR_BOT_TOKEN_HERE` на свой токен.
- Или переменная окружения: `TELEGRAM_BOT_TOKEN=ваш_токен`

Запуск:

```bash
python bot.py
```

### Если таймаут (Telegram заблокирован)

Запускайте бота **через прокси**. Сначала включите VPN или локальный прокси (например, в Clash/V2Ray смотрите порт HTTP, часто `7890`).

**Вариант 1 — переменная окружения (перед запуском):**

Windows (cmd):
```cmd
set HTTPS_PROXY=http://127.0.0.1:7890
python bot.py
```

Windows (PowerShell):
```powershell
$env:HTTPS_PROXY="http://127.0.0.1:7890"; python bot.py
```

**Вариант 2 — в коде:** в `bot.py` в начале файла задайте:
```python
PROXY_URL = "http://127.0.0.1:7890"   # подставьте свой адрес и порт
```
(или отредактируйте строку с `PROXY_URL = os.environ.get(...)` и укажите URL прокси).

Подойдут форматы: `http://host:port`, `https://...`, `socks5://host:port` (для SOCKS5 может понадобиться `pip install httpx[socks]`).

## Поведение

- **Команда /start** — бот отвечает: «Привет! Я твой личный помощник. Давай сделаем этот день лучшим».
- **Текст** — ответ: «Сообщение принято. Текст:» и повтор вашего сообщения.
- **Голосовое сообщение** — бот распознаёт речь (Google, нужен интернет и ffmpeg) и отвечает: «Сообщение принято. Текст:» и распознанный текст. Если распознать не удалось — «Сообщение принято. Голосовое сообщение (текст не удалось распознать).»
